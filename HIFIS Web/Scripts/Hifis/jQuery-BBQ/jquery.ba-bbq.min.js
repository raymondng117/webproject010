(function(a){"$:nomunge";var b,E=Array.prototype.slice,q=decodeURIComponent,g=a.param,v,d,c,m,r=a.bbq=a.bbq||{},t,u,y,D=a.event.special,z="hashchange",f="querystring",e="fragment",o="elemUrlAttr",p="href",l="src",s=/^.*\?|#.*$/g,j,k,B,w,n,F={};function i(a){return typeof a==="string"}function h(b){var a=E.call(arguments,1);return function(){return b.apply(this,a.concat(E.call(arguments)))}}function H(a){return a.replace(k,"$2")}function G(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function A(h,u,r,d,m){var p,g,l,o,t;if(d!==b){l=r.match(h?k:/^([^#?]*)\??([^#]*)(#?.*)/);t=l[3]||"";if(m===2&&i(d))g=d.replace(h?j:s,"");else{o=c(l[2]);d=i(d)?c[h?e:f](d):d;g=m===2?d:m===1?a.extend({},d,o):a.extend({},o,d);g=v(g);if(h)g=g.replace(B,q)}p=l[1]+(h?n:g||!l[1]?"?":"")+g+t}else p=u(r!==b?r:location.href);return p}g[f]=h(A,0,G);g[e]=d=h(A,1,H);g.sorted=v=function(e,d){var c=[],b={};a.each(g(e,d).split("&"),function(f,e){var d=e.replace(/(?:%5B|=).*$/,""),a=b[d];if(!a){a=b[d]=[];c.push(d)}a.push(e)});return a.map(c.sort(),function(a){return b[a]}).join("&")};d.noEscape=function(b){b=b||"";var c=a.map(b.split(""),encodeURIComponent);B=new RegExp(c.join("|"),"g")};d.noEscape(",/");d.ajaxCrawlable=function(a){if(a!==b){if(a){j=/^.*(?:#!|#)/;k=/^([^#]*)(?:#!|#)?(.*)$/;n="#!"}else{j=/^.*#/;k=/^([^#]*)#?(.*)$/;n="#"}w=!!a}return w};d.ajaxCrawlable(0);a.deparam=c=function(f,e){var c={},d={"true":true,"false":false,"null":null};a.each(f.replace(/\+/g," ").split("&"),function(n,m){var l=m.split("="),h=q(l[0]),g,k=c,j=0,f=h.split("]["),i=f.length-1;if(/\[/.test(f[0])&&/\]$/.test(f[i])){f[i]=f[i].replace(/\]$/,"");f=f.shift().split("[").concat(f);i=f.length-1}else i=0;if(l.length===2){g=q(l[1]);if(e)g=g&&!isNaN(g)?+g:g==="undefined"?b:d[g]!==b?d[g]:g;if(i)for(;j<=i;j++){h=f[j]===""?k.length:f[j];k=k[h]=j<i?k[h]||(f[j+1]&&isNaN(f[j+1])?{}:[]):g}else if(a.isArray(c[h]))c[h].push(g);else if(c[h]!==b)c[h]=[c[h],g];else c[h]=g}else if(h)c[h]=e?b:""});return c};function x(d,a,h){if(a===b||typeof a==="boolean"){h=a;a=g[d?e:f]()}else a=i(a)?a.replace(d?j:s,""):a;return c(a,h)}c[f]=h(x,0);c[e]=m=h(x,1);a[o]||(a[o]=function(b){return a.extend(F,b)})({a:p,base:p,iframe:l,img:l,input:l,form:"action",link:p,script:l});y=a[o];function C(f,d,c,e){if(!i(c)&&typeof c!=="object"){e=c;c=d;d=b}return this.each(function(){var h=a(this),b=d||y()[(this.nodeName||"").toLowerCase()]||"",i=b&&h.attr(b)||"";h.attr(b,g[f](i,c,e))})}a.fn[f]=h(C,f);a.fn[e]=h(C,e);r.pushState=t=function(a,c){if(i(a)&&/^#/.test(a)&&c===b)c=2;var e=a!==b,f=d(location.href,e?a:{},e?c:2);location.href=f};r.getState=u=function(a,c){return a===b||typeof a==="boolean"?m(a):m(c)[a]};r.removeState=function(d){var c={};if(d!==b){c=u();a.each(a.isArray(d)?d:arguments,function(b,a){delete c[a]})}t(c,2)};D[z]=a.extend(D[z],{add:function(f){var g;function h(f){var a=f[e]=d();f.getState=function(d,e){return d===b||typeof d==="boolean"?c(a,d):c(a,e)[d]};g.apply(this,arguments)}if(a.isFunction(f)){g=f;return h}else{g=f.handler;f.handler=h}}})})(jQuery,this);(function(b,j,g){"$:nomunge";var a="hashchange",d=document,f,i=b.event.special,h=d.documentMode,e="on"+a in j&&(h===g||h>7);function c(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}b.fn[a]=function(b){return b?this.bind(a,b):this.trigger(a)};b.fn[a].delay=50;i[a]=b.extend(i[a],{setup:function(){if(e)return false;b(f.start)},teardown:function(){if(e)return false;b(f.stop)}});f=function(){var h={},f,i=c(),l=function(a){return a},k=l,n=l;h.start=function(){f||m()};h.stop=function(){f&&clearTimeout(f);f=g};function m(){var e=c(),d=n(i);if(e!==i){k(i=e,d);b(j).trigger(a)}else if(d!==i)location.href=location.href.replace(/#.*/,"")+d;f=setTimeout(m,b.fn[a].delay)}navigator.userAgent.match(/MSIE/i)!==null&&!e&&function(){var f,e;h.start=function(){if(!f){e=b.fn[a].src;e=e&&e+c();f=b('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){e||k(c());m()}).attr("src",e||"javascript:0").insertAfter("body")[0].contentWindow;d.onpropertychange=function(){try{if(event.propertyName==="title")f.document.title=d.title}catch(a){}}}};h.stop=l;n=function(){return c(f.location.href)};k=function(g,h){var c=f.document,e=b.fn[a].domain;if(g!==h){c.title=d.title;c.open();e&&c.write('<script>document.domain="'+e+'"<\/script>');c.close();f.location.hash=g}}}();return h}()})(jQuery,this)