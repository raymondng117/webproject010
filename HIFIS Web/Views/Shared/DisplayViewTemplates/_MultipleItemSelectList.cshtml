@model MultipleItemSelectList

@if (Model.AddHtmlFormWrappers)
{
        @:<div class="form-group">
            <label class="control-label col-sm-2">
                @Html.Raw(Model.Label)
            </label>
            @:<div id="programsDisplayText" class="col-sm-10" style="margin-top: 8px;">
}

    @if (Model.IDs != null)
    {
        for (int i = 0; i < Model.IDs.Count(); i++)
        {
            if (Model.List != null)
            {
                SelectListItem item = Model.List.Where(ct => ct.Value == Model.IDs[i].ToString()).FirstOrDefault();

                if (item != null)
                {
                    if (i != Model.IDs.Count() - 1)
                    {
                        if (item.Text.IndexOf(",", StringComparison.OrdinalIgnoreCase) >= 0)
                        {
                            <text><i>( @item.Text )</i>, </text> 
                        }
                        else
                        { 
                            <text>@item.Text, </text> 
                        }

                    }
                    else
                    {
                        if (item.Text.IndexOf(",", StringComparison.OrdinalIgnoreCase) >= 0)
                        {
                            <text><i>( @item.Text )</i></text> 
                        }
                        else
                        {
                            <text>@item.Text</text>  
                        }                        
                    }
                }
            }
        }
    }

@if (Model.AddHtmlFormWrappers)
{
    @:</div></div>
}