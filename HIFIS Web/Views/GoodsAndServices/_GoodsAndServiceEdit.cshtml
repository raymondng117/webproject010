@model GoodsAndServices_ServiceViewModel

@Html.Partial("_BaseHiddenFor")

@Html.AntiForgeryToken()
@Html.HiddenFor(model => model.ClientIDs[0])
@Html.HiddenFor(model => model.ServiceID)
@Html.HiddenFor(model => model.GoodsActivitiesID)
@Html.HiddenFor(model => model.OrganizationID)

<div>  
    <div class="clearfix"></div>   

    <div class="form-color-white module-form-block">
            <div>     
                <div>
                    @Html.HifisEditorFor(model => model.ReasonForGoodsActivityTypeID, CachedTableTypes.HIFIS_ReasonForGoodsActivityTypes) 
                </div>
         
                @Html.Partial("DisplayViewTemplates/_DisplayStringList",
                                new DisplayStringListViewModel { Label = Html.HifisLabelFor(m => m.ProgramIDs).ToString() })

                <div>
                    @Html.HifisEditorFor(model => model.ReferredByName)
                </div>



                @if (Model.isGeoRegionEnforced)
                {
                    <div>
                        @Html.HifisEditorFor(model => model.FromReferrerPlaceID, ViewBag.fromPlaces as SelectList, null, new { id = "ddFrom" }, false, String.Format("<a href=\"{1}\" class=\"wb-lbx lbx-modal\" title=\"{0}\" aria-controls='Modal_EditItem' role='button'><span class='glyphicon glyphicon-filter'></span></a>", Labels.FromFilter, Url.Action("GeoRegionFilter", "Master", new { GeoRegionID = Model.FromReferrerGeoID, FilterType = (short)GeoFilterTypes.ReferFrom })))
                    </div>
                    <div>
                        @Html.HifisEditorFor(model => model.ToReferrerPlaceID, ViewBag.toPlaces as SelectList, null, new { id = "ddTo" }, false, String.Format("<a href=\"{1}\" class=\"wb-lbx lbx-modal\" title=\"{0}\" aria-controls='Modal_EditItem' role='button'><span class='glyphicon glyphicon-filter'></span></a>", Labels.ToFilter, Url.Action("GeoRegionFilter", "Master", new { GeoRegionID = Model.ToReferrerGeoID, FilterType = (short)GeoFilterTypes.ReferTo })))
                    </div>
                }
                else
                {
                    <div>
                        @Html.HifisEditorFor(model => model.FromReferrerPlaceID, ViewBag.fromPlaces as SelectList, null, new { id = "ddFrom" }, false)
                    </div>
                    <div>
                        @Html.HifisEditorFor(model => model.ToReferrerPlaceID, ViewBag.toPlaces as SelectList, null, new { id = "ddTo" }, false)
                    </div>
                }

            </div>

            <div>
                <div>
                    @Html.HifisEditorFor(model => model.DateStart, "DateAndTime")
                </div>
                <div>
                    @Html.HiddenFor(model => model.DateEnd)
                </div>
                <div>
                    @Html.HifisEditorFor(model => model.SessionID, ViewBag.SessionList as SelectList)
                    <img id="SessionSelectionLoader" alt="Loader animation" src="@Url.Content("~/Content/images/Loaders/loader-30.gif")" class="hide" />
                </div>
                <div>
                    @Html.HifisEditorFor(model => model.NumberOfPeople)
                </div>
                <div>
                    @Html.HifisEditorFor(model => model.Comments)
                </div>
            </div>
    </div>
</div>

